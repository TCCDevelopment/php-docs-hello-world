//
// jquery.easing
//

(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],function($){return factory($)})}else if(typeof module==="object"&&typeof module.exports==="object"){exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){$.easing.jswing=$.easing.swing;var pow=Math.pow,sqrt=Math.sqrt,sin=Math.sin,cos=Math.cos,PI=Math.PI,c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*PI/3,c5=2*PI/4.5;function bounceOut(x){var n1=7.5625,d1=2.75;if(x<1/d1){return n1*x*x}else if(x<2/d1){return n1*(x-=1.5/d1)*x+.75}else if(x<2.5/d1){return n1*(x-=2.25/d1)*x+.9375}else{return n1*(x-=2.625/d1)*x+.984375}}$.extend($.easing,{def:"easeOutQuad",swing:function(x){return $.easing[$.easing.def](x)},easeInQuad:function(x){return x*x},easeOutQuad:function(x){return 1-(1-x)*(1-x)},easeInOutQuad:function(x){return x<.5?2*x*x:1-pow(-2*x+2,2)/2},easeInCubic:function(x){return x*x*x},easeOutCubic:function(x){return 1-pow(1-x,3)},easeInOutCubic:function(x){return x<.5?4*x*x*x:1-pow(-2*x+2,3)/2},easeInQuart:function(x){return x*x*x*x},easeOutQuart:function(x){return 1-pow(1-x,4)},easeInOutQuart:function(x){return x<.5?8*x*x*x*x:1-pow(-2*x+2,4)/2},easeInQuint:function(x){return x*x*x*x*x},easeOutQuint:function(x){return 1-pow(1-x,5)},easeInOutQuint:function(x){return x<.5?16*x*x*x*x*x:1-pow(-2*x+2,5)/2},easeInSine:function(x){return 1-cos(x*PI/2)},easeOutSine:function(x){return sin(x*PI/2)},easeInOutSine:function(x){return-(cos(PI*x)-1)/2},easeInExpo:function(x){return x===0?0:pow(2,10*x-10)},easeOutExpo:function(x){return x===1?1:1-pow(2,-10*x)},easeInOutExpo:function(x){return x===0?0:x===1?1:x<.5?pow(2,20*x-10)/2:(2-pow(2,-20*x+10))/2},easeInCirc:function(x){return 1-sqrt(1-pow(x,2))},easeOutCirc:function(x){return sqrt(1-pow(x-1,2))},easeInOutCirc:function(x){return x<.5?(1-sqrt(1-pow(2*x,2)))/2:(sqrt(1-pow(-2*x+2,2))+1)/2},easeInElastic:function(x){return x===0?0:x===1?1:-pow(2,10*x-10)*sin((x*10-10.75)*c4)},easeOutElastic:function(x){return x===0?0:x===1?1:pow(2,-10*x)*sin((x*10-.75)*c4)+1},easeInOutElastic:function(x){return x===0?0:x===1?1:x<.5?-(pow(2,20*x-10)*sin((20*x-11.125)*c5))/2:pow(2,-20*x+10)*sin((20*x-11.125)*c5)/2+1},easeInBack:function(x){return c3*x*x*x-c1*x*x},easeOutBack:function(x){return 1+c3*pow(x-1,3)+c1*pow(x-1,2)},easeInOutBack:function(x){return x<.5?pow(2*x,2)*((c2+1)*2*x-c2)/2:(pow(2*x-2,2)*((c2+1)*(x*2-2)+c2)+2)/2},easeInBounce:function(x){return 1-bounceOut(1-x)},easeOutBounce:bounceOut,easeInOutBounce:function(x){return x<.5?(1-bounceOut(1-2*x))/2:(1+bounceOut(2*x-1))/2}})});


//
// vein
//

!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vein",t):this.vein=t()}(0,function(){var e=function(){},t=function(e,t,n){var s,r,l=[],i=[],u=t[document.all?"rules":"cssRules"],o=e.replace(/\s/g,"");for(s=0,r=u.length;s<r;s++)(u[s].selectorText===e||4===u[s].type&&u[s].cssText.replace(/\s/g,"").substring(0,o.length)==o)&&(null===n?i.push(s):l.push(u[s]));for(s=0,r=i.length;s<r;s++)t.deleteRule(i[s]);return l},n=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+": "+e[n]+";");return t.join("")};e.getStylesheet=function(){return this.element&&document.getElementById("vein")||(this.element=document.createElement("style"),this.element.setAttribute("type","text/css"),this.element.setAttribute("id","vein"),document.getElementsByTagName("head")[0].appendChild(this.element),this.stylesheet=this.element.sheet),this.stylesheet};var s=function(e){return e[document.all?"rules":"cssRules"]},r=function(e,t,n){var r=s(n);n.insertRule?n.insertRule(e+"{"+t+"}",r.length):n.addRule(e,t,r.length)};return e.inject=function(e,l,i){var u,o,h,f,c,a,y,d,g,p,m=(i=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}({},i)).stylesheet||this.getStylesheet();s(m);for("string"==typeof e&&(e=[e]),u=0,o=e.length;u<o;u++)if("object"==typeof e[u]&&m.insertRule)for(h in e[u])if(0===(f=t(h,m,l)).length)for(c=n(l),g=0,p=e[u][h].length;g<p;g++)r(h,e[u][h][g]+"{"+c+"}",m);else for(y=0,d=f.length;y<d;y++)this.inject(e[u][h],l,{stylesheet:f[y]});else{if(f=t(e[u],m,l),null===l)return;if(0===f.length)c=n(l),r(e[u],c,m);else for(y=0,d=f.length;y<d;y++)for(a in l)l.hasOwnProperty(a)&&(f[y].style.setProperty?f[y].style.setProperty(a,l[a],""):f[y].style.setAttribute(a,l[a],""))}return this},e});


//
// storageapi
//

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(b){var c,d,e,f=arguments.length,g=window[b],h=arguments,i=h[1];if(2>f)throw new Error("Minimum 2 arguments must be given");if(a.isArray(i)){d={};for(var j in i){c=i[j];try{d[c]=JSON.parse(g.getItem(c))}catch(k){d[c]=g.getItem(c)}}return d}if(2!=f){try{d=JSON.parse(g.getItem(i))}catch(k){throw new ReferenceError(i+" is not defined in this storage")}for(var j=2;f-1>j;j++)if(d=d[h[j]],void 0===d)throw new ReferenceError([].slice.call(h,1,j+1).join(".")+" is not defined in this storage");if(a.isArray(h[j])){e=d,d={};for(var l in h[j])d[h[j][l]]=e[h[j][l]];return d}return d[h[j]]}try{return JSON.parse(g.getItem(i))}catch(k){return g.getItem(i)}}function c(b){var c,d,e=arguments.length,f=window[b],g=arguments,h=g[1],i=g[2],j={};if(2>e||!a.isPlainObject(h)&&3>e)throw new Error("Minimum 3 arguments must be given or second parameter must be an object");if(a.isPlainObject(h)){for(var k in h)c=h[k],a.isPlainObject(c)?f.setItem(k,JSON.stringify(c)):f.setItem(k,c);return h}if(3==e)return"object"==typeof i?f.setItem(h,JSON.stringify(i)):f.setItem(h,i),i;try{d=f.getItem(h),null!=d&&(j=JSON.parse(d))}catch(l){}d=j;for(var k=2;e-2>k;k++)c=g[k],d[c]&&a.isPlainObject(d[c])||(d[c]={}),d=d[c];return d[g[k]]=g[k+1],f.setItem(h,JSON.stringify(j)),j}function d(b){var c,d,e=arguments.length,f=window[b],g=arguments,h=g[1];if(2>e)throw new Error("Minimum 2 arguments must be given");if(a.isArray(h)){for(var i in h)f.removeItem(h[i]);return!0}if(2==e)return f.removeItem(h),!0;try{c=d=JSON.parse(f.getItem(h))}catch(j){throw new ReferenceError(h+" is not defined in this storage")}for(var i=2;e-1>i;i++)if(d=d[g[i]],void 0===d)throw new ReferenceError([].slice.call(g,1,i).join(".")+" is not defined in this storage");if(a.isArray(g[i]))for(var k in g[i])delete d[g[i][k]];else delete d[g[i]];return f.setItem(h,JSON.stringify(c)),!0}function e(b,c){var e=h(b);for(var f in e)d(b,e[f]);if(c)for(var f in a.namespaceStorages)i(f)}function f(c){var d=arguments.length,e=arguments,g=(window[c],e[1]);if(1==d)return 0==h(c).length;if(a.isArray(g)){for(var i=0;i<g.length;i++)if(!f(c,g[i]))return!1;return!0}try{var j=b.apply(this,arguments);a.isArray(e[d-1])||(j={totest:j});for(var i in j)if(!(a.isPlainObject(j[i])&&a.isEmptyObject(j[i])||a.isArray(j[i])&&!j[i].length)&&j[i])return!1;return!0}catch(k){return!0}}function g(c){var d=arguments.length,e=arguments,f=(window[c],e[1]);if(2>d)throw new Error("Minimum 2 arguments must be given");if(a.isArray(f)){for(var h=0;h<f.length;h++)if(!g(c,f[h]))return!1;return!0}try{var i=b.apply(this,arguments);a.isArray(e[d-1])||(i={totest:i});for(var h in i)if(void 0===i[h]||null===i[h])return!1;return!0}catch(j){return!1}}function h(c){var d=arguments.length,e=window[c],f=arguments,g=(f[1],[]),h={};if(h=d>1?b.apply(this,f):e,h&&h._cookie)for(var i in a.cookie())""!=i&&g.push(i.replace(h._prefix,""));else for(var j in h)g.push(j);return g}function i(b){if(!b||"string"!=typeof b)throw new Error("First parameter must be a string");m?(window.localStorage.getItem(b)||window.localStorage.setItem(b,"{}"),window.sessionStorage.getItem(b)||window.sessionStorage.setItem(b,"{}")):(window.localCookieStorage.getItem(b)||window.localCookieStorage.setItem(b,"{}"),window.sessionCookieStorage.getItem(b)||window.sessionCookieStorage.setItem(b,"{}"));var c={localStorage:a.extend({},a.localStorage,{_ns:b}),sessionStorage:a.extend({},a.sessionStorage,{_ns:b})};return a.cookie&&(window.cookieStorage.getItem(b)||window.cookieStorage.setItem(b,"{}"),c.cookieStorage=a.extend({},a.cookieStorage,{_ns:b})),a.namespaceStorages[b]=c,c}function j(a){var b="jsapi";try{return window[a]?(window[a].setItem(b,b),window[a].removeItem(b),!0):!1}catch(c){return!1}}var k="ls_",l="ss_",m=j("localStorage"),n={_type:"",_ns:"",_callMethod:function(a,b){var c=[this._type],b=Array.prototype.slice.call(b),d=b[0];return this._ns&&c.push(this._ns),"string"==typeof d&&-1!==d.indexOf(".")&&(b.shift(),[].unshift.apply(b,d.split("."))),[].push.apply(c,b),a.apply(this,c)},get:function(){return this._callMethod(b,arguments)},set:function(){var b=arguments.length,d=arguments,e=d[0];if(1>b||!a.isPlainObject(e)&&2>b)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(a.isPlainObject(e)&&this._ns){for(var f in e)c(this._type,this._ns,f,e[f]);return e}var g=this._callMethod(c,d);return this._ns?g[e.split(".")[0]]:g},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(d,arguments)},removeAll:function(a){return this._ns?(c(this._type,this._ns,{}),!0):e(this._type,a)},isEmpty:function(){return this._callMethod(f,arguments)},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(g,arguments)},keys:function(){return this._callMethod(h,arguments)}};if(a.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var o={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(b,c){a.cookie(this._prefix+b,c,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(b){return a.cookie(this._prefix+b)},removeItem:function(b){return a.removeCookie(this._prefix+b)},clear:function(){for(var b in a.cookie())""!=b&&(!this._prefix&&-1===b.indexOf(k)&&-1===b.indexOf(l)||this._prefix&&0===b.indexOf(this._prefix))&&a.removeCookie(b)},setExpires:function(a){return this._expires=a,this},setPath:function(a){return this._path=a,this},setDomain:function(a){return this._domain=a,this},setConf:function(a){return a.path&&(this._path=a.path),a.domain&&(this._domain=a.domain),a.expires&&(this._expires=a.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};m||(window.localCookieStorage=a.extend({},o,{_prefix:k,_expires:3650}),window.sessionCookieStorage=a.extend({},o,{_prefix:l+window.name+"_"})),window.cookieStorage=a.extend({},o),a.cookieStorage=a.extend({},n,{_type:"cookieStorage",setExpires:function(a){return window.cookieStorage.setExpires(a),this},setPath:function(a){return window.cookieStorage.setPath(a),this},setDomain:function(a){return window.cookieStorage.setDomain(a),this},setConf:function(a){return window.cookieStorage.setConf(a),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}a.initNamespaceStorage=function(a){return i(a)},m?(a.localStorage=a.extend({},n,{_type:"localStorage"}),a.sessionStorage=a.extend({},n,{_type:"sessionStorage"})):(a.localStorage=a.extend({},n,{_type:"localCookieStorage"}),a.sessionStorage=a.extend({},n,{_type:"sessionCookieStorage"})),a.namespaceStorages={},a.removeAllStorages=function(b){a.localStorage.removeAll(b),a.sessionStorage.removeAll(b),a.cookieStorage&&a.cookieStorage.removeAll(b),b||(a.namespaceStorages={})}});


//
// jquery.impact-superslides
//


(function(window,$){var Superslides,plugin='superslides';Superslides=function(el,options){this.options=$.extend({play:false,animation_speed:600,animation_easing:'swing',animation:'slide',fast_first_slide:false,transition_bias:2,inherit_width_from:window,inherit_height_from:window,pagination:true,hashchange:false,scrollable:true,proportionalRatio:false,portrait_v_align:'center',landscape_h_align:'center',minimum_height:1,autoPlay_videos:false,v_bleed:0,h_bleed:0,elements:{preserve:'.preserve',nav:'.slides-navigation',container:'.slides-container',pagination:'.slides-pagination'}},options);var that=this,$control=$('<div>',{"class":'slides-control'}),multiplier=1,first_slide=true,isRTL=false;this.$el=$(el);this.$container=this.$el.find(this.options.elements.container);var initialize=function(){multiplier=that._findMultiplier();that.isRTL=document.documentElement.dir=="rtl"?true:false;that.$el.on('click',that.options.elements.nav+" a",function(e){e.preventDefault();that.stop();if($(this).hasClass('next')){that.animate('next',function(){that.start();});}else{that.animate('prev',function(){that.start();});}});$(document).on('keyup',function(e){if(e.keyCode===37){that.animate('prev');}
if(e.keyCode===39){that.animate('next');}});$(window).on('resize',function(){setTimeout(function(){var $children=that.$container.children();that.width=that._findWidth();that.height=that._findHeight();$children.css({width:that.width,left:that.width});that.css.containers();that.css.images();that.css.videos();that.$el.trigger('resized.slides');},10);});if(that.options.hashchange){$(window).on('hashchange',function(){var hash=that._parseHash(),index;index=that._upcomingSlide(hash);if(index>=0&&index!==that.current){that.animate(index);}});}
that.pagination._events();that.start();return that;};var css={containers:function(){if(that.init){that.$el.css({height:that.height});that.$control.css({width:that.width*multiplier});if(that.isRTL){that.$control.css('right',-that.width);}else{that.$control.css('left',-that.width);}
that.$container.css({});}else{$('body').css({margin:0});that.$el.css({position:'relative',overflow:'hidden',width:'100%',height:that.height});that.$control.css({position:'relative',transform:'translate3d(0)',height:'100%',width:that.width*multiplier});if(that.isRTL){that.$control.css('right',-that.width);}else{that.$control.css('left',-that.width);}
that.$container.css({display:'none',margin:'0',padding:'0',listStyle:'none',position:'relative',height:'100%'});}
if(that.size()===1){that.$el.find(that.options.elements.nav).hide();}},images:function(){var $images=that.$container.find('img').not(that.options.elements.preserve)
$images.removeAttr('width').removeAttr('height').css({"-webkit-backface-visibility":'hidden',"-ms-interpolation-mode":'bicubic',"position":'absolute',"left":'0',"top":'0',"z-index":'-1',"max-width":'none'});$images.each(function(){var image_aspect_ratio=that.image._aspectRatio(this),image=this;if(!$.data(this,'processed')){var img=new Image();img.onload=function(){that.image._scale(image,image_aspect_ratio);that.image._center(image,image_aspect_ratio);$.data(image,'processed',true);};img.src=this.src;}else{that.image._scale(image,image_aspect_ratio);that.image._center(image,image_aspect_ratio);}});},videos:function(){var $videos=that.$container.find('video');$videos.each(function(){thisVid=$(this);video=this;if(!thisVid.attr("autoplay")){if(that.options.autoPlay_videos)thisVid.get(0).play();}
that.image._coverVid(video,thisVid.attr('data-vid-width'),thisVid.attr('data-vid-height'));});},children:function(){var $children=that.$container.children(),i=0;$children.each(function(){var thisChild=$(this);thisChild.attr('data-impact-slide',i+1);i++;});if($children.is('img')){$children.each(function(){if($(this).is('img')){$(this).wrap('<div>');var id=$(this).attr('id');$(this).removeAttr('id');$(this).parent().attr('id',id);}});$children=that.$container.children();}
if($children.hasClass('impact-video')){$children.find('video').each(function(){var id=$(this).attr('id'),vid=document.getElementById(id);vid.playbackRate=vid.getAttribute('data-rate');vid.setAttribute('data-vid-width',vid.videoWidth);vid.setAttribute('data-vid-height',vid.videoHeight);that.image._coverVid(vid,vid.getAttribute('data-vid-width'),vid.getAttribute('data-vid-height'));vid.addEventListener("loadedmetadata",function(e){this.setAttribute('data-vid-width',this.videoWidth);this.setAttribute('data-vid-height',this.videoHeight);that.image._coverVid(this,this.getAttribute('data-vid-width'),this.getAttribute('data-vid-height'));},false);});}
if(!that.init){$children.css({display:'none',left:that.width*2});}
$children.css({position:'absolute',overflow:'hidden',height:'100%',width:that.width,top:0,zIndex:0});}}
var fx={slide:function(orientation,complete){var transTime,$children=that.$container.children(),$target=$children.eq(orientation.upcoming_slide);$target.css({left:orientation.upcoming_position,display:'block'});if(first_slide){transTime=that.options.fast_first_slide;first_slide=false;}else{transTime=that.options.animation_speed}
that.$control.animate({left:orientation.offset},transTime,that.options.animation_easing,function(){if(that.size()>1){that.$control.css({left:-that.width});$children.eq(orientation.upcoming_slide).css({left:that.width,zIndex:2});if(orientation.outgoing_slide>=0){$children.eq(orientation.outgoing_slide).css({left:that.width,display:'none',zIndex:0});}}
complete();});},fade:function(orientation,complete){var that=this,transTime,$children=that.$container.children(),$outgoing=$children.eq(orientation.outgoing_slide),$target=$children.eq(orientation.upcoming_slide);if(first_slide){transTime=that.options.fast_first_slide;first_slide=false;}else{transTime=that.options.animation_speed}
$target.css({left:this.width,opacity:0,display:'block'}).animate({opacity:1},transTime,that.options.animation_easing);if(orientation.outgoing_slide>=0){$outgoing.animate({opacity:0},transTime*that.options.transition_bias,that.options.animation_easing,function(){if(that.size()>1){$children.eq(orientation.upcoming_slide).css({zIndex:2});if(orientation.outgoing_slide>=0){$children.eq(orientation.outgoing_slide).css({opacity:1,display:'none',zIndex:0});}}
complete();});}else{$target.css({zIndex:2});complete();}}};fx=$.extend(fx,$.fn.superslides.fx);var image={_alignY:function(image,align){var $img=$(image),vertical,vpos={'top':function(){vertical=0;},'center':function(){vertical=(that.height-$img.height())/2;},'bottom':function(){vertical=that.height-$img.height();},'default':function(){vertical=(that.height-$img.height())/2;}};(vpos[align]||vpos['default'])();$img.css({top:vertical});},_alignX:function(image,align){var $img=$(image),horiz,hpos={'left':function(){horiz=0;},'center':function(){horiz=(that.width-$img.width())/2;},'right':function(){horiz=that.width-$img.width();},'default':function(){horiz=(that.width-$img.width())/2;}};(hpos[align]||hpos['default'])();$img.css({left:horiz});},_center:function(image,aspectRatio){var $img=$(image);if(aspectRatio>1){that.image._alignX(image,$img.attr('data-h-align')||that.options.portrait_h_align);that.image._alignY(image,$img.attr('data-v-align')||that.options.portrait_v_align);}else{that.image._alignY(image,$img.attr('data-v-align')||that.options.landscape_v_align);that.image._alignX(image,$img.attr('data-h-align')||that.options.landscape_h_align);}},_aspectRatio:function(image){if(!image.naturalHeight&&!image.naturalWidth){var img=new Image();img.src=image.src;image.naturalHeight=img.height;image.naturalWidth=img.width;}
return image.naturalHeight/image.naturalWidth;},_coverVid:function(video,natural_width,natural_height){thisVideo=$(video);var scale_h=that.width/natural_width,scale_v=that.height/natural_height,scale=scale_h>scale_v?scale_h:scale_v;if(scale*natural_width<300){scale=300/natural_width;};var scaleWidth=scale*natural_width,scaleHeight=scale*natural_height;var vidLeft=-1*((scaleWidth-that.width)/2),vidTop=-1*((scaleHeight-that.height)/2);thisVideo.css({'width':scaleWidth,'height':scaleHeight,'margin-left':vidLeft,'margin-top':vidTop,});},_scale:function(image,image_aspect_ratio){image_aspect_ratio=image_aspect_ratio||that.image._aspectRatio(image);var container_aspect_ratio=that.height/that.width,$img=$(image);if(container_aspect_ratio>image_aspect_ratio){$img.css({height:Math.round(that.height+that.options.v_bleed),width:that.height/image_aspect_ratio})}else{$img.css({height:Math.round((that.width*image_aspect_ratio)+that.options.v_bleed),width:that.width});that.$el.trigger('initialised.slides');}}};var pagination={_setCurrent:function(i){var $slides=that.$container.children();$slides.removeClass('active-slide');$slides.eq(i).addClass('active-slide');that.$el.trigger('slideChange.slides');if(!that.$pagination){return;}
var $pagination_children=that.$pagination.children();$pagination_children.removeClass('current');$pagination_children.eq(i).addClass('current');},_addItem:function(i){var slide_number=i+1,href=slide_number,$slide=that.$container.children().eq(i),slide_id=$slide.attr('id');if(slide_id){href=slide_id;}
var $item=$("<a>",{'href':"#"+href,'text':href});$item.appendTo(that.$pagination);},_setup:function(){if(!that.options.pagination||that.size()===1){return;}
var $pagination=$("<nav>",{'class':that.options.elements.pagination.replace(/^\./,'')});that.$pagination=$pagination.appendTo(that.$el);for(var i=0;i<that.size();i++){that.pagination._addItem(i);}},_events:function(){that.$el.on('click',that.options.elements.pagination+' a',function(e){e.preventDefault();var hash=that._parseHash(this.hash),index;index=that._upcomingSlide(hash,true);if(index!==that.current){that.animate(index,function(){that.start();});}});}};this.css=css;this.image=image;this.pagination=pagination;this.fx=fx;this.animation=this.fx[this.options.animation];this.$control=this.$container.wrap($control).parent('.slides-control');that._findPositions();that.width=that._findWidth();that.height=that._findHeight();this.css.children();this.css.containers();this.css.images();this.css.videos();this.pagination._setup();return initialize();};Superslides.prototype={_findWidth:function(){return $(this.options.inherit_width_from).width();},_findHeight:function(){var min_height=this.options.minimum_height;if(this.options.proportionalRatio){var calc_height=$(this.options.inherit_width_from).width()*this.options.proportionalRatio,calc_height=calc_height>min_height?calc_height:min_height;}else{calc_height=$(this.options.inherit_height_from).height()>min_height?$(this.options.inherit_height_from).height():min_height;}
return calc_height;},_findMultiplier:function(){return this.size()===1?1:3;},_upcomingSlide:function(direction,from_hash_change){if(from_hash_change&&!isNaN(direction)){direction=direction-1;}
if((/next/).test(direction)){return this._nextInDom();}else if((/prev/).test(direction)){return this._prevInDom();}else if((/\d/).test(direction)){return+direction;}else if(direction&&(/\w/).test(direction)){var index=this._findSlideById(direction);if(index>=0){return index;}else{return 0;}}else{return 0;}},_findSlideById:function(id){return this.$container.find('#'+id).index();},_findPositions:function(current,thisRef){thisRef=thisRef||this;if(current===undefined){current=-1;}
thisRef.current=current;thisRef.next=thisRef._nextInDom();thisRef.prev=thisRef._prevInDom();},_nextInDom:function(){var index=this.current+1;if(index===this.size()){index=0;}
return index;},_prevInDom:function(){var index=this.current-1;if(index<0){index=this.size()-1;}
return index;},_parseHash:function(hash){hash=hash||window.location.hash;hash=hash.replace(/^#/,'');if(hash&&!isNaN(+hash)){hash=+hash;}
return hash;},size:function(){return this.$container.children().length;},destroy:function(){return this.$el.removeData();},update:function(){this.css.children();this.css.containers();this.css.images();this.pagination._addItem(this.size())
this._findPositions(this.current);this.$el.trigger('updated.slides');},stop:function(){clearInterval(this.play_id);delete this.play_id;this.$el.trigger('stopped.slides');},start:function(){var that=this;if(that.options.hashchange){$(window).trigger('hashchange');}else{this.animate();}
if(this.options.play){if(this.play_id){this.stop();}
this.play_id=setInterval(function(){that.animate();},this.options.play);}
that.$el.trigger('started.slides');},animate:function(direction,userCallback){var that=this,orientation={};if(this.animating){return;}
this.animating=true;if(direction===undefined){direction='next';}
orientation.upcoming_slide=this._upcomingSlide(direction);if(orientation.upcoming_slide>=this.size()){return;}
orientation.outgoing_slide=this.current;orientation.upcoming_position=this.width*2;orientation.offset=-orientation.upcoming_position;if(direction==='prev'||direction<orientation.outgoing_slide){orientation.upcoming_position=0;orientation.offset=0;}
if(that.size()>1){that.pagination._setCurrent(orientation.upcoming_slide);}
if(that.options.hashchange){var hash=orientation.upcoming_slide+1,id=that.$container.children(':eq('+orientation.upcoming_slide+')').attr('id');if(id){window.location.hash=id;}else{window.location.hash=hash;}}
if(that.size()===1){that.stop();that.options.play=0;that.options.animation_speed=0;orientation.upcoming_slide=0;orientation.outgoing_slide=-1;}
that.$el.trigger('nextslide.slides',[orientation.upcoming_slide+1,orientation.outgoing_slide+1]);that.animation(orientation,function(){that._findPositions(orientation.upcoming_slide,that);if(typeof userCallback==='function'){userCallback();}
that.animating=false;that.$el.trigger('animated.slides',[orientation.upcoming_slide+1,orientation.outgoing_slide+1]);if(!that.init){that.$el.trigger('init.slides',[-1,-1]);that.init=true;that.$container.fadeIn(that.options.fast_first_slide);}});}};$.fn[plugin]=function(option,args){var result=[];this.each(function(){var $this,data,options;$this=$(this);data=$this.data(plugin);options=typeof option==='object'&&option;if(!data){result=$this.data(plugin,(data=new Superslides(this,options)));}
if(typeof option==="string"){result=data[option];if(typeof result==='function'){return result=result.call(data,args);}}});return result;};$.fn[plugin].fx={};})(this,jQuery);


//
// jwlib-utils
//

(function($){"use strict";jQuery.fn.exists=function(){return jQuery(this).length>0;};jQuery.getParameterByName=function(name,url){if(!url)url=window.location.href;name=name.replace(/[[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return"";return decodeURIComponent(results[2].replace(/\+/g," "));};jQuery.debug=function(){if(window.debug===true)window.debug=1;var maxlevel=parseInt($.getParameterByName("debug")||window.debug)||0;if(maxlevel===0)return;var args=Array.prototype.slice.call(arguments),group="debug",loglevel=1;if(args.length>1&&typeof(args[args.length-1])==="number"){loglevel=args.pop();}
if(loglevel>maxlevel)return;if(args.length>1&&typeof(args[0])==="string"){group=args.shift();}
var debugGroup=$.getParameterByName("debugGroup")||window.debugGroup;if(debugGroup&&!group.match(debugGroup))return;console.group(group);args.forEach(function(arg){if(Array.isArray(arg)&&typeof arg[0]!=="object"){console.table(arg);}
else{console.log(arg);}});console.groupEnd();};jQuery.isMobile=jQuery.isTouch=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||false;};if(jQuery.isTouch())document.documentElement.classList.add("touch");jQuery.clearBrowserCache=function(){$(window).on("pageshow",function(event){if(event.originalEvent.persisted){window.location.reload();}});};jQuery.preloadImages=function(){for(var i=0;i<arguments.length;i++){$("<img />").attr("src",arguments[i]);}};var triggerWindowResize=function(){$(window).trigger("resize");};if(typeof(orientationEvent)==undefined){var orientationEvent=0;}
$(window).on(orientationEvent,triggerWindowResize).on("load",triggerWindowResize);})(jQuery);


/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);
var stacks = {};
stacks.jQuery = jQuery.noConflict(true);
stacks.ws_foundation_animate = {};
stacks.ws_foundation_animate = (function(stack) { var wow=new WOW({boxClass:'animate-on-scroll',animateClass:'animated',offset:0,mobile:true,live:true});wow.init();

return stack;})(stacks.ws_foundation_animate);
stacks.stacks_in_4 = {};
stacks.stacks_in_4 = (function(stack) {
var jQuery = stacks.jQuery;var $ = jQuery;
vein.inject('#stacks_in_4 .slides-container',{'list-style-type':'none'});$(document).ready(function(){var stack=$('#stacks_in_4');if(stack.length==0)return;var preLoader=$('.pre-loader',stack),slide=$('.impact-slide',stack),slidesContainer=$('.slides-container',stack),scrollButton=$('#stacks_in_4 .impact-arrow-wrap'),container=$('.impact-container',stack),wrapper=$('.impact-wrapper',stack),fgContent=$('.fg-per-show',stack),slideContent=$('.slide-content',stack),propHeight='proportional-height',coverTouch='cover-touch'=='cover-touch'?true:false,useMobCover=(coverTouch&&$.isMobile())?true:false,noScrollBack=false,isRemoved=false,didScroll=false,position,timerSuspended=false,suspendedOnLast=false,autoPlaySlides='True'=='True'?true:false,playOnceOnly='False'=='True'?true:false,isPlaying=false,playWhenLeave=false,aniType='fade',slideDuration=3000,animationSpeed=2000,transtionBias=3,scrollStop=false,numSlides=countSlides(),fadeIn=80,firstSlideSpeed=numSlides>1?fadeIn:0,slideTime=numSlides>1?slideDuration:false,aspectRatio=false,screensChild=false,minHeight=0,autoPlay_videos='auto'==='auto'?true:false,autoScrollDelay=5.00*1000,portraitVAlign='center',portraitHAlign='center',landscapeVAlign='center',landscapeHAlign='center';$('.stacks_in.com_joeworkman_stacks_impact_animation_stack',stack).parent().css('overflow','visible');$('li.impact-slide:first',slidesContainer).addClass('active-slide');var
min_height=300,percent_height,preload_height,stack_width=stack.width();if('0.7500'==='custom'){percent_height=parseFloat('800'/'1200');}
else{percent_height=parseFloat('0.7500');}
preload_height=(stack_width*percent_height)>min_height?(stack_width*percent_height):min_height;vein.inject('#stacks_in_4>.impact-wrapper.impact-preload',{'height':parseInt(preload_height)+'px',});var $images=slidesContainer.find('img.impact-image');$images.each(function(){var thisImage=$(this),src=thisImage.attr('src');if(thisImage.attr('src')!=''){vein.inject('#stacks_in_4>.impact-wrapper.impact-preload>.pre-loader',{'background-image':'url('+src+')',});return false}});preLoader.removeClass('hidden');if($.isMobile()){wrapper.addClass('touch-device');slidesContainer.remove();$('.slides-navigation',stack).remove();}var kbPresent=stack.find('.impact-slide.kb-anim').length>1;var initSlides=function(){$('.slides',stack).superslides({animation:aniType,play:false,animation_speed:animationSpeed,fast_first_slide:firstSlideSpeed,transition_bias:transtionBias,inherit_width_from:target,inherit_height_from:target,proportionalRatio:aspectRatio,v_bleed:3,minimum_height:minHeight,pagination:true,autoPlay_videos:autoPlay_videos,portrait_v_align:portraitVAlign,portrait_h_align:portraitHAlign,landscape_v_align:landscapeVAlign,landscape_h_align:landscapeHAlign,elements:{preserve:'.impact-fg-img',nav:'.slides-navigation',container:'.slides-container',pagination:'.slides-pagination'}});preLoader.addClass('hidden');wrapper.removeClass('impact-preload');$(window).trigger('resize');}
var process_topbar=function(){if($('.top-bar-wrapper')&&$('body').hasClass('f-topbar-fixed')){if($('#stacks_in_4').offset().top==$('.top-bar-wrapper').outerHeight()){$('body').removeClass('f-topbar-fixed');vein.inject('body.f-topbar-fixed',{'padding-top':'0'});}}}
function countSlides(){var numSlides=0;slide.each(function(){numSlides++;});return numSlides;}
var exclude_fg_images=function(container){container.each(function(){$(this).find('img').addClass('impact-fg-img');});}
var findTarget=function(){if(propHeight==='fixed-height'||propHeight==='flexible-height'){stack.closest('.stacks_out').css('min-height',300+'px');if(propHeight==='flexible-height'){stack.css('height','100%');stack.closest('.stacks_out').css('height',100+'vh');target=stack;}
else{target=$('#stacks_in_4>.impact-wrapper');aspectRatio=false;}}
else{target=stack.parent().parent().parent().attr('class')==='stacks_top'?window:stack.parent().parent();if(propHeight==='proportional-height'){minHeight=300;if('0.7500'==='custom'){aspectRatio=parseFloat('800'/'1200');}
else{aspectRatio=parseFloat('0.7500');}}}}
var scrollEffects=function(){position=1-($(window).scrollTop()*1.5/$(window).height()),scrollButton.css('opacity',position);}
var checkScrollBack=function(){if(stack.offset().top+stack.outerHeight()<=$(window).scrollTop()){fgContent.hide();stack.closest('.stacks_out').removeAttr('style');stack.remove();window.scrollTo(0,0);isRemoved=true;if('undefined'!=typeof foundation&&foundation.jQuery){foundation.jQuery(document).foundation('reflow');}}}
function slideTimer(action,delayTime){if(numSlides<2){return false;}
var thisSlideDelay;window.isActive=true;$(window).focus(function(){this.isActive=true;});$(window).blur(function(){this.isActive=false;});$('.slides-navigation a,.slides-pagination a',stack).click(function(){timerSuspended=true;setTimeout(function(){timerSuspended=false;},delayTime);});if(action=='pause'){isPlaying=false;timerSuspended=true;}
if(action=='start'){isPlaying=true;timerSuspended=false;var timer=setInterval(function(){if(!this.isActive||timerSuspended)return;var thisSlide=stack.find('.active-slide'),thisSlideNumber=thisSlide.attr('data-impact-slide'),thisSlideDelay=thisSlide.attr('data-slide-time')||0;if(!suspendedOnLast&&playOnceOnly&&thisSlideNumber==numSlides){timerSuspended=true;suspendedOnLast=true;return;}
suspendedOnLast=false;if(thisSlideDelay>0){timerSuspended=true;setTimeout(function(){timerSuspended=false;$('.slides',stack).superslides('animate','next');},parseInt(thisSlideDelay));}
else
{$('.slides',stack).superslides('animate','next');}},delayTime);}}
var updateAnimationClasses=function(slide){stack.find('.impact-animate.animate-always.animated').each(function(){var clone=$(this).removeClass('animated').addClass('pre-anim').clone();$(this).replaceWith(clone);});var animate=$('.impact-animate.pre-anim',slide);animate.removeClass('pre-anim').addClass('animated');}
var updateKenBurns=function(nextslide,currentslide){stack.find('.impact-slide.kb-anim').each(function(){var thisSlide=$(this);if((thisSlide=nextslide)||(thisSlide=currentslide))return true;var clone=thisSlide.removeClass('animated').addClass('pre-anim').clone();thisSlide.replaceWith(clone);});nextslide.removeClass('pre-anim').addClass('animated');}
var setup_EventListeners=function(){$(this).on('initialised.slides',function(){wrapper.css('height','');});$(this).on('nextslide.slides',function(event,nextSlide,lastSlide){var
upcomingVid,upcomingImage,upComingSlide=stack.find("[data-impact-slide='"+nextSlide+"']"),previousSlide=stack.find("[data-impact-slide='"+lastSlide+"']");upcomingImage=upComingSlide.find('img');if(numSlides>1&&kbPresent)updateKenBurns(upComingSlide,previousSlide);if(!autoPlay_videos){upcomingVid=upComingSlide.find("video")[0];if($(upcomingVid).length){$(upcomingVid)[0].oncanplaythrough=$(upcomingVid)[0].play()}}});$(this).on('animated.slides',function(event,currentSlide,lastSlide){var
outgoingVid,thisSlide=stack.find("[data-impact-slide='"+currentSlide+"']"),prevSlide=stack.find("[data-impact-slide='"+lastSlide+"']");updateAnimationClasses(thisSlide);if(!autoPlay_videos){}});}
var initSlideShow=function(autoPlayShow,autoPlay_videos){setup_EventListeners();initSlides();if(autoPlaySlides){slideTimer('start',slideTime);}}
$(function(){process_topbar();fgContent.hide();scrollButton.hide();exclude_fg_images(container);findTarget();jQuery.easing.def="easeInOutQuad";fgContent.fadeIn(fadeIn);scrollButton.fadeIn(fadeIn);initSlideShow(autoPlaySlides,autoPlay_videos);function scrollAway(){var toScroll=stack.offset().top+stack.outerHeight();$('html,body').animate({scrollTop:toScroll},parseInt(1200),"easeInOutQuad",function(){if(noScrollBack&&propHeight=='fill-container hero-header')checkScrollBack();});}
$('#stacks_in_4 .scrollDown, .impact-scroll').click(function(){scrollAway();});$(window).scroll(function(){didScroll=true;});setInterval(function(){if(didScroll){didScroll=false;scrollEffects();}},100);$('.impact-next').click(function(){$('.slides',stack).superslides('animate','next');});$('.impact-prev').click(function(){$('.slides',stack).superslides('animate','prev');});$('.impact-play').click(function(){slideTimer('start',slideTime);});$('.impact-pause').click(function(){slideTimer('pause',null);});$('.impact-mute').click(function(){$("video",slidesContainer).prop('muted',true);});$('.impact-unmute').click(function(){$("video",slidesContainer).prop('muted',false);});$('.impact-toggle-mute').click(function(){$("video",slidesContainer).prop('muted',!$("video",slidesContainer).prop('muted'));});});});

return stack;})(stacks.stacks_in_4);
stacks.stacks_in_46 = {};
stacks.stacks_in_46 = (function(stack) {
var jQuery = stacks.jQuery;var $ = jQuery;







return stack;})(stacks.stacks_in_46);